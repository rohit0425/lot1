(function(t){function e(e){for(var a,c,s=e[0],r=e[1],u=e[2],d=0,f=[];d<s.length;d++)c=s[d],o[c]&&f.push(o[c][0]),o[c]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,s=1;s<n.length;s++){var r=n[s];0!==o[r]&&(a=!1)}a&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},o={app:0},i=[];function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=r;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("64a9"),o=n.n(a);o.a},"0efb":function(t,e,n){},1:function(t,e){},"1bd8":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"slider-container"},[n("div",{staticClass:"slider"},[n("span",[t._v("1")]),n("div",{ref:"slide",staticClass:"slider-bg",on:{click:t.slide}},[n("div",{ref:"range",staticClass:"slider-range",style:{right:t.rangeDistance}}),n("div",{ref:"tooltip",staticClass:"slider-tooltip",style:{right:t.rangeDistance}},[t._v(t._s(t.current))]),n("div",{ref:"handle",staticClass:"slider-handle",class:{active:t.isDraging},style:{right:t.rangeDistance},on:{mousedown:t.dragStart}})]),n("span",[t._v("100")])])])},o=[],i=(n("c5f6"),n("42a5")),c={props:{initial:{type:Number,default:50},max:{type:Number,default:100},min:{type:Number,default:1}},mounted:function(){var t=this.$refs.slide.offsetWidth,e=this.$refs.slide.getBoundingClientRect(),n=e.left;this.left=n,this.slideWidth=t,document.addEventListener("mousemove",this.drag),document.addEventListener("mouseup",this.dragEnd),document.addEventListener("mouseleave",this.dragEnd)},data:function(){return{current:this.initial,isDraging:!1,left:0,slideWidth:0}},computed:{rangeDistance:function(){return this.slideWidth-this.offsetX+"px"},offsetX:function(){return this.current/100*this.slideWidth}},methods:{slide:function(t){var e=t.offsetX,n=Math.floor(e/this.slideWidth*100);switch(!0){case n<this.min:this.current=this.min;break;case n>this.max:this.current=this.max;break;default:this.current=n}i["a"].$emit("ROLLUNDER_CHANGE",this.current)},drag:function(t){var e=t.screenX;t.offsetX,t.pageX;this.isDraging&&this.slide({offsetX:e-this.left})},dragStart:function(){this.isDraging=!0},dragEnd:function(){this.isDraging=!1}},destroyed:function(){document.removeEventListener("mousemove",this.drag),document.removeEventListener("mouseleave",this.dragEnd),document.removeEventListener("mouseup",this.dragEnd)}},s=c,r=(n("72ce"),n("2877")),u=Object(r["a"])(s,a,o,!1,null,"f76cabc0",null);u.options.__file="slider.vue";e["default"]=u.exports},2:function(t,e){},"2f77":function(t,e,n){t.exports=n.p+"img/bet-token.f602b663.png"},3:function(t,e){},"38c8":function(t,e,n){},"41ce":function(t,e,n){"use strict";var a=n("c992"),o=n.n(a);o.a},"42a5":function(t,e,n){"use strict";n("cadf"),n("551c"),n("097d");var a=n("2b0e");e["a"]=new a["default"]},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{attrs:{id:"app"}},[n("dice-header"),n("dice-game"),n("dice-orders")],1)},i=[],c=(n("7514"),new Promise(function(t){document.addEventListener("scatterLoaded",t)})),s={mounted:function(){var t=this;c.then(function(){if(scatter.identity){var e=scatter.identity.accounts.find(function(t){return"eos"===t.blockchain});e&&t.$store.commit("UPDATE_ACCOUNT",e)}})},components:{diceHeader:n("71c2").default,diceGame:n("f252").default,diceOrders:n("bed5").default}},r=s,u=(n("034f"),n("2877")),l=Object(u["a"])(r,o,i,!1,null,null,null);l.options.__file="App.vue";var d=l.exports,f=n("5c96"),h=n.n(f),m=n("2f62");a["default"].use(m["a"]);var v=new m["a"].Store({state:{account:{}},mutations:{UPDATE_ACCOUNT:function(t,e){t.account=e}}}),p=n("ecee"),g=n("c074"),_=n("ad3d"),b=n("42b9");n("f5df"),n("450d"),n("a7cc"),n("915d"),n("0fb7"),n("46a1"),n("38c8");p["c"].add(g["a"],b["a"]),a["default"].use(h.a),a["default"].config.productionTip=!1,a["default"].component("font-awesome-icon",_["a"]),new a["default"]({store:v,render:function(t){return t(d)}}).$mount("#app")},"633d":function(t,e,n){"use strict";var a=n("0efb"),o=n.n(a);o.a},"64a9":function(t,e,n){},"71c2":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header"},[n("div",[n("img",{staticClass:"dice-logo",attrs:{src:t.diceLogo}}),n("a",{attrs:{href:"JavaScript:;"},on:{click:t.showSocial}},[t._v("COMMUNITIY")])]),n("nav",[n("ul",[n("li",[n("a",{attrs:{href:"JavaScript:;"},on:{click:t.showAbout}},[t._v("HOW TO PLAY")])]),n("li",[t.account.name?n("div",{staticClass:"account-cell",attrs:{href:"JavaScript:;"}},[n("span",[t._v(t._s(t.account.name))]),n("font-awesome-icon",{staticClass:"icon-logout",attrs:{icon:"sign-out-alt"},on:{click:t.logout}})],1):n("a",{attrs:{href:"JavaScript:;"},on:{click:t.login}},[t._v("LOGIN")])])])])])},o=[],i=(n("7514"),n("c290")),c=n("42a5"),s=n("e40d"),r=n.n(s),u={methods:{login:function(){var t=this;scatter.getIdentity({accounts:[i["a"]]}).then(function(){var e=scatter.identity.accounts.find(function(t){return"eos"===t.blockchain});e&&t.$store.commit("UPDATE_ACCOUNT",e)}).catch(function(e){t.$message.warning(e.message)})},logout:function(){var t=this;scatter.forgetIdentity().then(function(){t.$message.success("User logout success"),t.$store.commit("UPDATE_ACCOUNT",{})})},showAbout:function(){c["a"].$emit("SHOW_ABOUT")},showSocial:function(){c["a"].$emit("SHOW_SOCIAL")}},data:function(){return{diceLogo:r.a}},computed:{account:function(){return this.$store.state.account}}},l=u,d=(n("41ce"),n("2877")),f=Object(d["a"])(l,a,o,!1,null,"34bdb05f",null);f.options.__file="header.vue";e["default"]=f.exports},"72ce":function(t,e,n){"use strict";var a=n("f0bd"),o=n.n(a);o.a},"9b90":function(t,e,n){},be79:function(t,e,n){t.exports=n.p+"img/eos.90a08310.png"},bed5:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"orders-container"},[t._m(0),n("table",{staticClass:"orders-table"},[t._m(1),n("tbody",t._l(t.orders,function(e,a){return n("tr",{key:a},[n("td",[t._v(t._s(t.dateFormat(e.block_time)))]),n("td",[t._v(t._s(e.action_trace.act.data.result.player))]),n("td",[t._v(t._s(e.action_trace.act.data.result.roll_under))]),n("td",[t._v(t._s(e.action_trace.act.data.result.amount))]),n("td",[t._v(t._s(e.action_trace.act.data.result.random_roll))]),n("td",{staticClass:"payout"},[t._v("\n          "+t._s("0.0000 EOS"!==e.action_trace.act.data.result.payout&&e.action_trace.act.data.result.payout||"")+"\n        ")])])}),0)])])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"orders-tab"},[n("ul",[n("li",[t._v("ALL BETS")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Time")]),n("th",[t._v("Bettor")]),n("th",[t._v("Roll Under")]),n("th",[t._v("Bet")]),n("th",[t._v("Roll")]),n("th",[t._v("Payout")])])])}],i=(n("7f7f"),n("cadf"),n("551c"),n("097d"),n("e14d")),c={mounted:function(){setInterval(this.fetchOrders,1e3)},data:function(){return{orders:[]}},methods:{fetchOrders:function(){var t=this;i["a"].getActions("fairdicelogs",-1,-20).then(function(e){var n=e.actions;t.orders=n.filter(function(t){return t.action_trace&&t.action_trace.act&&t.action_trace.act.data&&t.action_trace.act.data.result&&"fairdicelogs"==t.action_trace.act.account&&"result"==t.action_trace.act.name}).reverse()})},dateFormat:function(t){return new Date(t+"Z").toLocaleTimeString()}}},s=c,r=(n("e598"),n("2877")),u=Object(r["a"])(s,a,o,!1,null,"276044f8",null);u.options.__file="orders.vue";e["default"]=u.exports},c290:function(t,e,n){"use strict";n("cadf"),n("551c"),n("097d");var a=new URL(location.href),o=a.searchParams.get("test");e["a"]={blockchain:"eos",host:o?"//jungle2.cryptolions.io":"jungle2.cryptolions.io",port:443,protocol:"https",chainId:"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473"}},c992:function(t,e,n){},e14d:function(t,e,n){"use strict";n("cadf"),n("551c"),n("097d");var a=n("70b4"),o=n.n(a),i=n("c290");e["a"]=o()({httpEndpoint:"".concat(i["a"].protocol,"://").concat(i["a"].host,":").concat(i["a"].port),chainId:i["a"].chainId})},e40d:function(t,e,n){t.exports=n.p+"img/dice.89cc9385.svg"},e598:function(t,e,n){"use strict";var a=n("9b90"),o=n.n(a);o.a},f0bd:function(t,e,n){},f252:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"game"},[n("div",{staticClass:"form"},[n("div",{staticClass:"form-group"},[n("div",[n("label",[t._v("BET AMOUNT")]),n("div",{staticClass:"input-amount-group"},[n("div",{staticClass:"input-group"},[n("img",{staticClass:"eos-logo",attrs:{src:t.eosLogo}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.eos,expression:"eos"}],domProps:{value:t.eos},on:{change:t.checkBetamount,input:function(e){e.target.composing||(t.eos=e.target.value)}}})]),n("ul",{staticClass:"amount-rate"},[n("li",{on:{click:function(e){t.setEOS(.5)}}},[t._v("1/2")]),n("li",{on:{click:function(e){t.setEOS(2)}}},[t._v("2X")]),n("li",{on:{click:function(e){t.setEOS()}}},[t._v("MAX")])])])]),n("div",[n("label",[t._v("PAYOUT ON WIN")]),n("div",{staticClass:"bet-cell"},[n("img",{staticClass:"eos-logo",attrs:{src:t.eosLogo}}),n("span",[t._v(t._s(t.payWin))])])])]),n("div",{staticClass:"info-container"},[n("ul",[n("li",[n("label",[t._v("ROLL UNDER TO WIN")]),n("span",[t._v(t._s(t.rollUnder))])]),n("li",[n("label",[t._v("PAYOUT")]),n("span",[t._v(t._s(Number(t.payOut).toFixed(2))+"x")])]),n("li",[n("label",[t._v("WIN CHANCE")]),n("span",[t._v(t._s(t.winChance)+"%")])])])]),n("footer",{staticClass:"game-footer"},[n("div",{staticClass:"currenteos-container"},[n("img",{staticClass:"eos-lg",attrs:{src:t.eosLogo}}),n("span",{staticClass:"eos-animation",class:{animateUp:this.showUpAnimation,animateDown:this.showDownAnimation}},[t._v(t._s(t.animationTxt))]),n("span",[t._v(t._s(Number(t.currentEOS).toFixed(4)))])]),t.account.name?n("el-button",{staticClass:"btn-action",on:{click:t.doAction}},[t._v(t._s(t.actionTxt))]):n("button",{staticClass:"btn-action",on:{click:t.login}},[t._v("LOGIN")]),n("div",{staticClass:"bet-balance"},[n("img",{staticClass:"token-logo",attrs:{src:t.tokenLogo}}),n("span",[t._v("0.0000")])])],1)]),n("dice-slider",{attrs:{initial:t.rollUnder,max:96,min:2}}),n("el-dialog",{attrs:{width:"30%",visible:t.showAbout},on:{"update:visible":function(e){t.showAbout=e}}},[n("p",{attrs:{slot:"title"},slot:"title"},[t._v("How To Play")]),n("ol",[n("li",[t._v("1. Make sure you have an EOS account. For more information on how to create one, "),n("a",{attrs:{href:"//medium.com/dapppub/create-your-own-eos-account-easily-using-the-non-service-fee-dapp-signupeoseos-b15c5347f2fc",target:"_blank"}},[t._v("click here")]),t._v(".")]),n("li",[t._v("2. If you haven’t already, download and install "),n("a",{attrs:{href:"//get-scatter.com/",target:"_blank"}},[t._v("Scatter")]),t._v(", an EOS wallet that facilitates interaction between users and dApps.")]),n("li",[t._v("3. Set your BET AMOUNT. This is the amount of EOS you will be wagering.")]),n("li",[t._v("4. Adjust the slider to change your chance of winning.")]),n("li",[t._v("5. Click ROLL DICE to place your bet.")]),n("li",[t._v("6. If your number is lower than your ROLL UNDER TO WIN number, you win!")]),n("li",[t._v("7. If you get a notice that your transaction failed, please check that you have enough CPU & bandwidth to make the transaction! Please use "),n("a",{attrs:{href:"//eostoolkit.io/home",target:"_blank"}},[t._v("EOSToolkit")]),t._v(" to make any changes to your account!")])]),n("p",[t._v("You can view your EOS balance next to the ROLL DICE button. The table below the slider bar shows recent bets from all players across the world.")]),n("p",[t._v("Still have questions? Reach out to us at "),n("a",{attrs:{href:"//discordapp.com/channels/482077322070196225/487187255065313292",target:"_blank"}},[t._v("Discord")]),t._v(" and we’ll be happy to help!")])]),n("el-dialog",{attrs:{visible:t.showSocial},on:{"update:visible":function(e){t.showSocial=e}}},[n("p",{attrs:{slot:"title"},slot:"title"},[t._v("Join the EOSBet Community")]),n("ul",{staticClass:"social-links"},[n("li",{on:{click:function(e){t.navigate("twitter")}}},[n("font-awesome-icon",{attrs:{icon:["fab","twitter"]}})],1),n("li",{on:{click:function(e){t.navigate("github")}}},[n("font-awesome-icon",{attrs:{icon:["fab","github"]}})],1),n("li",{on:{click:function(e){t.navigate("medium")}}},[n("font-awesome-icon",{attrs:{icon:["fab","medium-m"]}})],1),n("li",{on:{click:function(e){t.navigate("discord")}}},[n("font-awesome-icon",{attrs:{icon:["fab","discord"]}})],1)])])],1)},o=[],i=(n("7514"),n("87f3"),n("3835")),c=(n("ac6a"),n("5df3"),n("a481"),n("c5f6"),n("7f7f"),n("cadf"),n("551c"),n("097d"),n("be79")),s=n.n(c),r=n("2f77"),u=n.n(r),l=n("70b4"),d=n.n(l),f=n("42a5"),h=n("c290"),m=function(){return fetch.apply(void 0,arguments).then(function(t){return t.ok?t.json():Promise.reject(t)})},v=n("e14d"),p=n("98e6"),g=n.n(p),_={mounted:function(){var t=this;f["a"].$on("ROLLUNDER_CHANGE",function(e){return t.rollUnder=e}),f["a"].$on("SHOW_ABOUT",function(){return t.showAbout=!0}),f["a"].$on("SHOW_SOCIAL",function(){return t.showSocial=!0}),this.getEOS(),this.getPool()},data:function(){return{eosLogo:s.a,tokenLogo:u.a,eos:1,rollUnder:50,currentEOS:0,poolBalance:0,timer:0,animationTxt:0,actionTxt:"ROLL DICE",showAbout:!1,showSocial:!1,animating:!1,showUpAnimation:!1,showDownAnimation:!1}},methods:{getEOS:function(){var t=this;if(this.account.name)return v["a"].getAccount(this.account.name).then(function(e){var n=e.core_liquid_balance;t.currentEOS=Number(n.replace(/\sEOS/,""))});this.currentEOS=0},getPool:function(){var t=this;Promise.all([v["a"].getTableRows({json:!0,code:"eosio.token",table:"accounts",scope:"fairdicegame"}),v["a"].getTableRows({json:!0,code:"fairdicegame",table:"fundpool",scope:"fairdicegame"})]).then(function(e){var n=Object(i["a"])(e,2),a=n[0],o=n[1];t.poolBalance=a.rows[0].balance.slice(0,-4)-o.rows[0].locked.slice(0,-4)})},floor:function(t,e){return Number(Math.floor(t+"e"+e)+"e-"+e)},maxBetAmount:function(){return this.floor(this.poolBalance/100/(98/this.winChance)*.9,4)},setEOS:function(t){this.poolBalance;var e=this.currentEOS,n=t?this.eos*t:this.currentEOS;switch(!0){case n<.1:n=.1;break;case n>e:n=e;break;case n>this.maxBetAmount():n=this.maxBetAmount();break}this.eos=Number(n).toFixed(4)},getClientSeed:function(){var t=Math.floor(Math.random()*Math.floor(Number.MAX_SAFE_INTEGER));return g()("sha1").update(this.account.name+Date.now()+t).digest("hex")},doAction:function(){var t=this,e=this.maxBetAmount();if(this.eos>e)this.$notify({title:"Bet Failed",message:"Bet Amount should not be more than "+e.toFixed(4)+" EOS",duration:2e3,showClose:!1,type:"error"});else{var n=.1;if(this.eos<n)this.$notify({title:"Bet Failed",message:"Bet Amount should be more than "+n.toFixed(4)+" EOS",duration:2e3,showClose:!1,type:"error"});else{var a=new FormData,o=scatter.eos(h["a"],d.a,{});"".concat(this.account.name,"@").concat(this.account.authority);this.showEOSAnimation=!0,this.$message.info("Waiting for Scatter to confirm transfer...");var i="fairdicegame";a.append("roll_under",this.rollUnder),a.append("referrer",i),m("//dice.dapp.pub/dice/",{method:"POST",body:a}).then(function(e){var n=e.expiration_timestamp,a=e.seed,c=e.signature;o.transfer({from:t.account.name,to:"fairdicegame",quantity:Number(t.eos).toFixed(4)+" EOS",memo:"".concat(t.rollUnder,"-").concat(a,"-").concat(t.getClientSeed(),"-").concat(n,"-").concat(i,"-").concat(c)}).then(function(){t.getEOS(),t.fetchResult(a),t.animating=!0,t.$notify({title:"Bet success",message:"Waiting for bet result",duration:2e3,showClose:!1,type:"info"})}).catch(function(e){t.$notify.error(e.message||JSON.parse(e).error.details[0].message)})})}}},fetchResult:function(t){var e=this;v["a"].getActions("fairdicelogs",-1,-20).then(function(n){var a=n.actions,o=a.find(function(e){return e.action_trace&&e.action_trace.act&&"fairdicelogs"===e.action_trace.act.account&&"result"===e.action_trace.act.name&&e.action_trace.act.data&&e.action_trace.act.data.result&&e.action_trace.act.data.result.seed_hash===t});if(!o)return e.fetchResult(t);var i=o.action_trace.act.data.result,c=i.amount,s=i.payout;"0.0000 EOS"===s?(e.showDownAnimation=!0,e.animationTxt=c):(e.showUpAnimation=!0,e.animationTxt=s),setTimeout(function(){e.showDownAnimation=!1,e.showUpAnimation=!1},3100),e.animating=!1,e.getEOS()})},login:function(){var t=this;scatter.getIdentity({accounts:[h["a"]]}).then(function(){var e=scatter.identity.accounts.find(function(t){return"eos"===t.blockchain});e&&t.$store.commit("UPDATE_ACCOUNT",e)}).catch(function(e){t.$message.warning(e.message)})},checkBetamount:function(){},navigate:function(t){switch(t){case"twitter":window.open("//twitter.com/dappPub");break;case"medium":window.open("//medium.com/dapppub");break;case"github":window.open("//github.com/dappub");break;case"discord":window.open("//discordapp.com/channels/482077322070196225/487187255065313292");break}}},watch:{account:function(){this.getEOS()},animating:function(){var t=this,e=this.animating;if(!e)return clearInterval(this.timer),void(this.actionTxt="ROLL DICE");this.timer=setInterval(function(){t.actionTxt=(100*Math.random()).toFixed(0)},100)}},components:{diceSlider:n("1bd8").default},computed:{winChance:function(){return this.rollUnder-1},payOut:function(){return 98/this.winChance},payWin:function(){return(this.eos*this.payOut).toFixed(4)},account:function(){return this.$store.state.account}}},b=_,w=(n("633d"),n("2877")),O=Object(w["a"])(b,a,o,!1,null,"761320ac",null);O.options.__file="game.vue";e["default"]=O.exports}});
//# sourceMappingURL=app.b589f928.js.map